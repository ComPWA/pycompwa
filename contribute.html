<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>How to contribute &mdash; pycompwa  documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Talks and Documents" href="documents.html" />
    <link rel="prev" title="Particle database" href="usage/tools/particles.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html"><img src="_static/logo-small.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <p><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">How to contribute</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#python-developer-tools">Python developer tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="#jupyter-notebook-tools">Jupyter notebook tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#how-to-contribute-through-git">How to contribute through Git</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#commit-conventions">Commit conventions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#reporting-issues">Reporting Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#continuous-integration-ci">Continuous Integration (CI)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#code-quality-conventions">Code Quality &amp; Conventions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#documentation">Documentation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="documents.html">Talks and Documents</a></li>
</ul>

    <a href= "py-modindex.html">Module Index (API)</a>
    <a href= "genindex.html">General Index</a>
  
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pycompwa</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>How to contribute</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ComPWA/pycompwa/blob/main/docscontribute.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="usage/tools/particles.html" class="btn btn-neutral float-left" title="Particle database" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="documents.html" class="btn btn-neutral float-right" title="Talks and Documents" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="how-to-contribute">
<h1>How to contribute<a class="headerlink" href="#how-to-contribute" title="Permalink to this headline">¶</a></h1>
<section id="python-developer-tools">
<span id="python-dev-tools"></span><h2>Python developer tools<a class="headerlink" href="#python-developer-tools" title="Permalink to this headline">¶</a></h2>
<p>For contributing to pycompwa, we recommend you also install the packages listed
under <a class="reference download internal" download="" href="_downloads/08a912e4146a5e1bd374dc43fa88ec93/requirements-dev.txt"><code class="xref download docutils literal notranslate"><span class="pre">requirements-dev.txt</span></code></a>. In the
Conda environment you created for pycompwa:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>conda install --file requirements-dev.txt
</pre></div>
</div>
<p>An important tool there is <a class="reference external" href="https://pre-commit.com/">pre-commit</a>. This will
run certain tests locally when you make a Git commit. To activate, run the
following after cloning:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pre-commit install
</pre></div>
</div>
<p>Now, whenever you commit, all tests defined in the <code class="docutils literal notranslate"><span class="pre">.pre-commit-config.yaml</span></code>
fill be run. Any errors will be fixed where possible and you will have to stage
those new changes. You can also first test all staged files with the command
<code class="docutils literal notranslate"><span class="pre">pre-commit</span></code>. If, however, you do not want to run these tests upon
committing, just use the option <code class="docutils literal notranslate"><span class="pre">--no-verify</span></code>, or <code class="docutils literal notranslate"><span class="pre">-n</span></code>, skip.</p>
<p>A tool that tests <em>all</em> relevant files is <code class="docutils literal notranslate"><span class="pre">tox</span></code>. The tests that <code class="docutils literal notranslate"><span class="pre">tox</span></code> runs
are defined in the <code class="docutils literal notranslate"><span class="pre">tox.ini</span></code> file in the main directory.</p>
<p>You also check the coverage of the unit tests:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> tests
pytest
</pre></div>
</div>
<p>Now you can find a nice graphical overview of which parts of the code are not
covered by the tests by opening <code class="docutils literal notranslate"><span class="pre">htmlcov/index.html</span></code>!</p>
<p>If you want to speed up the tests you can run <code class="docutils literal notranslate"><span class="pre">pytest</span></code> with the flag
<code class="docutils literal notranslate"><span class="pre">-m</span> <span class="pre">&quot;not</span> <span class="pre">slow&quot;</span></code>. Note, however, that in that case, the test coverage is not
reliable.</p>
</section>
<section id="jupyter-notebook-tools">
<h2>Jupyter notebook tools<a class="headerlink" href="#jupyter-notebook-tools" title="Permalink to this headline">¶</a></h2>
<p>Jupyter notebooks aren’t the most friendly with regard to Version Control
Systems like Git because in the back-end, a notebook is a JSON file that
changes for instances when you run a cell. There is no simple solution for this
other than to clean the cell output upon saving. You can automatize this with
<a class="reference external" href="https://github.com/kynan/nbstripout">nbstripout</a> if you have activated
<code class="docutils literal notranslate"><span class="pre">pre-commit</span></code> (see <a class="reference internal" href="#python-dev-tools"><span class="std std-ref">Python developer tools</span></a>).</p>
<p>Jupyter offers several other useful extensions that can be activate <a class="reference external" href="https://jupyter-contrib-nbextensions.readthedocs.io/en/latest/install.html#enabling-disabling-extensions">like this</a>
If you want to contribute to the example notebooks, make sure to check out the
following extensions:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://jupyter-contrib-nbextensions.readthedocs.io/en/latest/nbextensions/code_prettify/README_autopep8.html">jupyter-autopep8</a></p></li>
<li><p><a class="reference external" href="https://jupyter-contrib-nbextensions.readthedocs.io/en/latest/nbextensions/ruler/readme.html">ruler</a></p></li>
<li><p><a class="reference external" href="https://jupyter-contrib-nbextensions.readthedocs.io/en/latest/nbextensions/spellchecker/README.html">sphellchecker</a></p></li>
</ul>
<section id="how-to-contribute-through-git">
<h3>How to contribute through Git<a class="headerlink" href="#how-to-contribute-through-git" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that most of the following instructions are general and independent of
pycompwa, so they are also valid for ComPWA.</p>
</div>
<p>If you are new to git, maybe you should read some documentation first, such as
the
<a class="reference external" href="https://git-scm.com/docs/user-manual.html">Git Manual</a>,
<a class="reference external" href="http://rogerdudler.github.io/git-guide/">Tutorial</a>, a
<a class="reference external" href="https://services.github.com/on-demand/downloads/github-git-cheat-sheet.pdf">CheatSheet</a>.
The <a class="reference external" href="https://git-scm.com/book/en/v2">Git Pro</a> book particularly serves as a
great, free overview that is a nice read for both beginners and more
experienced users.</p>
<p>For your convenience, here is the Git workflow you should use if you want to
contribute:</p>
<ol class="arabic simple">
<li><p>Log into GitHub with your account and fork the ComPWA repository</p></li>
<li><p>Get a local copy of repository: <br />
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">git&#64;github.com:YOURACCOUNT/pycompwa.git</span></code> <br />
(this uses the SSH protocol, so you need to <a class="reference external" href="https://help.github.com/en/github/authenticating-to-github/managing-commit-signature-verification">set your SSH keys</a>
first)</p></li>
<li><p>Add the main repository as a second remote called <code class="docutils literal notranslate"><span class="pre">upstream</span></code>: <br />
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">add</span> <span class="pre">upstream</span> <span class="pre">git&#64;github.com:ComPWA/pycompwa.git</span></code></p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can name the repository with any name you wish: <code class="docutils literal notranslate"><span class="pre">upstream</span></code> is just a
common label for the main repository.</p>
<p>Note that the remote from which you cloned the repository is named <code class="docutils literal notranslate"><span class="pre">origin</span></code>
by default (here: your fork). A local <code class="docutils literal notranslate"><span class="pre">main</span></code> branch is automatically
checked out from the origin after the clone. You can list all branches with
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span> <span class="pre">-a</span></code>.</p>
</div>
<p>You repeat the following steps until your contribution is finished. Only then
can your contributions be added main repository through a <a class="reference external" href="https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/about-pull-requests">pull request</a>
(PR).</p>
<ul class="simple">
<li><p>… edit some files …</p></li>
<li><p>Check changes: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> and/or <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code></p></li>
<li><p>Stage updated files for commit: <br />
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">-u</span></code> or add new files <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">&lt;list</span> <span class="pre">of</span> <span class="pre">files&gt;</span></code></p></li>
<li><p>Commit changes: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code> (opens up editor for commit message)</p></li>
<li><p>Enter a meaningful commit message. First line is a overall summary. Then, if
necessary, skip one line and add a more detailed description form the third
line on.</p></li>
<li><p>Synchronize with the changes from the main repository/upstream:</p>
<ul>
<li><p>Fetch new changes: <br />
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">fetch</span> <span class="pre">upstream</span></code></p></li>
<li><p>Re-apply your current branch commits to the head of the <code class="docutils literal notranslate"><span class="pre">upstream</span></code> main
branch: <br />
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rebase</span> <span class="pre">-i</span> <span class="pre">upstream/main</span></code></p></li>
<li><p>At this point, conflicts between your changes and those from the main
<code class="docutils literal notranslate"><span class="pre">upstream</span></code> repository may occur. If no conflicts appeared, then you are
finished and you can continue coding or push your work onto you fork.
Otherwise repeat these steps until you’re done (you can abort the whole
rebase process via <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rebase</span> <span class="pre">--abort</span></code>):</p>
<ul>
<li><p>Review the conflicts (<a class="reference external" href="https://code.visualstudio.com/">VS Code</a> is a
great tool for this)</p></li>
<li><p>Mark them as resolved <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">&lt;filename&gt;</span></code></p></li>
<li><p>Continue the rebase <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rebase</span> <span class="pre">--continue</span></code></p></li>
</ul>
</li>
</ul>
</li>
<li><p>Push your changes to your fork: <br />
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">origin</span> <span class="pre">&lt;branchname&gt;</span></code> <br />
This step ‘synchronizes’ your local branch and the branch in your fork. It is
not required after every commit, but it is certainly necessary once you are
ready to merge your code into <code class="docutils literal notranslate"><span class="pre">upstream</span></code>.</p></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Remember to commit frequently instead of submitting a PR of just one commit.
Making frequent snapshots (commits) of your work is safer workflow in
general. Later on, rebasing can help you to group and alter commit messages,
so don’t worry.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>It can be useful to push your local branch to your fork under a different
name using: <br />
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">origin</span> <span class="pre">&lt;local-branchname&gt;:&lt;remote-branchname&gt;</span></code></p>
</div>
<p>Once you think your contribution is finished and can be merged into the main
repository:</p>
<ul class="simple">
<li><p>Make sure your the latest commits from the <code class="docutils literal notranslate"><span class="pre">upstream/main</span></code> are rebased
onto your new branch and pushed to your fork</p></li>
<li><p>Log into GitHub with your account and create a PR. This is a request to merge
the changes in your fork branch with the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch of the pycompwa or
ComPWA repository.</p></li>
<li><p>While the PR is open, commits pushed to the fork branch behind your PR will
immediately appear in the PR.</p></li>
</ul>
</section>
</section>
<section id="commit-conventions">
<h2>Commit conventions<a class="headerlink" href="#commit-conventions" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>In the main branch, it should be possible to compile and test the framework
<strong>in each commit</strong>. In your own topic branches, it is recommended to commit
frequently (WIP keyword), but <a class="reference external" href="https://git-scm.com/book/en/v2/Git-Tools-Rewriting-History">squash those commits</a>
to compilable commits upon submitting a merge request.</p></li>
<li><p>Please use <a class="reference external" href="https://www.conventionalcommits.org/">conventional commit messages</a>: start the commit subject line with
a semantic keyword (see e.g. <a class="reference external" href="https://github.com/angular/angular/blob/master/CONTRIBUTING.md#type">Angular</a> or
<a class="reference external" href="https://seesparkbox.com/foundry/semantic_commit_messages">these examples</a>,
followed by <a class="reference external" href="https://git-scm.com/docs/git-interpret-trailers">a column</a>,
then the message. The subject line should be in imperative mood—just imagine
the commit to give a command to the code framework. So for instance:
<code class="docutils literal notranslate"><span class="pre">feat:</span> <span class="pre">add</span> <span class="pre">coverage</span> <span class="pre">report</span> <span class="pre">tools</span></code> or <code class="docutils literal notranslate"><span class="pre">fix:</span> <span class="pre">remove</span> <span class="pre">...</span></code>. The message
should be in present tense, but you can add whatever you want there (like
hyperlinks for references).</p></li>
</ul>
<section id="reporting-issues">
<span id="contribute-report-issues"></span><h3>Reporting Issues<a class="headerlink" href="#reporting-issues" title="Permalink to this headline">¶</a></h3>
<p>Use the <a class="reference external" href="https://github.com/ComPWA/pycompwa/issues">pycompwa github issues page</a> to:</p>
<ul class="simple">
<li><p>report problems/issues</p></li>
<li><p>file a feature request</p></li>
<li><p>request modifications to existing “unpleasant” code</p></li>
</ul>
<p>Please don’t hesitate to report any issues, but try make sure not to post
duplicates.</p>
<p>We are also very glad if you want to take it into your own hands and contribute
to (py)ComPWA!</p>
</section>
<section id="continuous-integration-ci">
<h3>Continuous Integration (CI)<a class="headerlink" href="#continuous-integration-ci" title="Permalink to this headline">¶</a></h3>
<p>The main branch is automatically build using GitHub Actions. Probably it is
interesting to check out the <a class="reference external" href="https://github.com/ComPWA/pycompwa/actions/workflows/ci-tests.yml">log file</a> and the
workflow files under <a class="reference external" href="https://github.com/ComPWA/pycompwa/blob/main/.github/workflows">.github/workflows</a>.</p>
<p>A code coverage report is generated for each pull request. Try to keep coverage
high by writing new tests if coverage decreases. You can see an overview
pycompwa’s coverage <a class="reference external" href="https://codecov.io/gh/ComPWA/pycompwa">here</a>. Under
<a class="reference external" href="https://codecov.io/gh/ComPWA/pycompwa/tree/master/pycompwa">files</a> you have
a detailed overview of coverage per module, and you can investigate coverage
all the way down to the source code.</p>
</section>
<section id="code-quality-conventions">
<h3>Code Quality &amp; Conventions<a class="headerlink" href="#code-quality-conventions" title="Permalink to this headline">¶</a></h3>
<p>A highly recommended read for learning how to write good code: <br />
<strong>Clean Code, by Robert C. Martin</strong></p>
<p>Try and follow his advice, and keep in mind the ‘boy scout rule’:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;Leave behind the code cleaner, then you found it&quot;</span>
</pre></div>
</div>
<p>For the python code we follow the <a class="reference external" href="https://www.python.org/dev/peps/pep-0008/">pep8 standard</a>. Available automatic source code
highlighters and formatters are <code class="docutils literal notranslate"><span class="pre">flake8</span></code> and <code class="docutils literal notranslate"><span class="pre">autopep8</span></code>.</p>
</section>
<section id="documentation">
<h3>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h3>
<p>Generally try to code in such a way that it is self explanatory and its
documentation is not necessary. Of course this ideal case is not achieved in
reality, but avoid useless comments such as <code class="docutils literal notranslate"><span class="pre">getValue()</span> <span class="pre">#</span> <span class="pre">gets</span> <span class="pre">value</span></code>. Also
try to comment only parts, which really need an explanation. Because keeping
the documentation in sync with the code is crucial, and is a lot of work.</p>
<p>The documentation is built with sphinx using the “read the docs” theme. For the
python code/modules <code class="docutils literal notranslate"><span class="pre">sphinx-apidoc</span></code> is used. The comment style is following
the <code class="docutils literal notranslate"><span class="pre">doc8</span></code> conventions.</p>
<p>You can build the documentation locally as follows. In your Conda environment,
navigate to the pycompwa repository, then do:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> docs
conda install --file requirements.txt
make html
</pre></div>
</div>
<p>Now, open the file <code class="docutils literal notranslate"><span class="pre">docs/_build/html/index.html</span></code>.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="usage/tools/particles.html" class="btn btn-neutral float-left" title="Particle database" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="documents.html" class="btn btn-neutral float-right" title="Talks and Documents" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>